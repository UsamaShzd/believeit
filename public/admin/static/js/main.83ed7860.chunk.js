(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{10:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r});var n="https://believeit-dev.herokuapp.com/api",r="/admin"},16:function(e,t,a){"use strict";t.a={store:function(e,t){"object"===typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)},get:function(e){var t=localStorage.getItem(e);if(!t)return"";try{t=JSON.parse(t)}catch(a){t=t}return t},remove:function(e){localStorage.removeItem(e)}}},199:function(e,t,a){e.exports=a(351)},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),s=a.n(o),c=a(374),i=a(373),l=a(372),m=a(371),u=a(44),d=a(31),p=a(16),g=a(38),b=a(30),f=a(103),h=a(22),v=p.a.get("adminUser")||null,E={token:p.a.get("adminAuthToken")||"",user:v},y=Object(f.b)({name:"auth",initialState:E,reducers:{setUser:function(e,t){e.user=t.payload},setToken:function(e,t){e.token=t.payload},resetAuth:function(e){E}}}),O=y.actions,j=O.setUser,k=O.setToken,N=(O.resetAuth,y.reducer),w=Object(h.c)({auth:N}),x=Object(f.a)({reducer:w}),C=(a(233),a(234),a(235),a(236),a(74)),S=a(10),A=Object(b.b)(function(e){return{token:e.auth.token,user:e.auth.user}})(function(e){var t=e.component,a=e.user,n=e.token,o=Object(C.a)(e,["component","user","token"]);return r.a.createElement(l.a,Object.assign({},o,{render:function(e){return n&&null!==a?r.a.createElement(t,e):r.a.createElement(m.a,{to:{pathname:S.b+"/signin",state:{from:e.location}}})}}))}),P=a(8),U=a(9),T=a(12),q=a(6),z=a(11),L=a(182),I=a(356),F=a(357),H=a(358),_=a(359),B=a(360),J=a(174),D=a(68),R=a.n(D),W=a(352),M=a(353),Q=a(354),V=a(178),G=a(355),Y=a(73),K=function(e){var t=e.name,a=e.icon,n=Object(C.a)(e,["name","icon"]),o=Object(Y.c)(),s=o.values,c=o.errors,i=o.touched,l=o.setFieldValue,m=i[t]&&c[t],u=s[t];return r.a.createElement(W.a,null,r.a.createElement(M.a,{className:m?"input-group-alternative border border-danger":"input-group-alternative"},r.a.createElement(Q.a,{addonType:"prepend"},r.a.createElement(V.a,{className:m?"text-danger":""},r.a.createElement("i",{className:a}))),r.a.createElement(G.a,Object.assign({},n,{value:u,onChange:function(e){l(t,e.target.value)}}))),m&&r.a.createElement("div",{className:"alert alert-danger"},m))},X=a(77),Z=a(34),$=a.n(Z),ee=a(63),te=a(48),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.body,e.onSuccess,e.onError),a=e.onEnd;return function(){var e=Object(ee.a)($.a.mark(function e(n,r){return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{r(),g.a.setCommonHeaders("x-auth-token",""),p.a.remove("adminUser"),p.a.remove("adminAuthToken"),window.location.href=S.b}catch(n){console.log("Error => ",n),t?t(n):Object(te.a)(n)}finally{a&&a()}case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()};var ne=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(T.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!1},a.loginHandler=function(e,t){var n=t.setSubmitting;a.props.signinUser({body:e,onSuccess:function(e){a.props.history.replace("/users")},onEnd:function(){return n(!1)}})},a.showForm=function(){return r.a.createElement(Y.b,{initialValues:{email:"",password:""},validationSchema:X.b().shape({email:X.c().email().min(1).max(100).required(),password:X.c().min(1).max(30).required()}),onSubmit:a.loginHandler},function(e){var t=e.isSubmitting,a=e.submitForm;return r.a.createElement("form",null,r.a.createElement(K,{icon:"ni ni-email-83",placeholder:"Email",name:"email",type:"text",autoFocus:!0}),r.a.createElement(K,{name:"password",icon:"ni ni-lock-circle-open",placeholder:"Password",type:"password"}),r.a.createElement("div",{className:"d-flex justify-content-center mt-4"},r.a.createElement(L.a,{color:"primary",disabled:t,type:"submit",onClick:a},"Sign in")))})},a.showLoader=function(){return r.a.createElement("div",{className:"d-flex justify-content-center my-5"},r.a.createElement(J.HashLoader,{width:25,height:25,color:"#5e72e4"}))},a}return Object(z.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){document.body.classList.add("bg-default")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("bg-default")}},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"header bg-gradient-info py-7 py-lg-8"},r.a.createElement("div",{className:"separator separator-bottom separator-skew zindex-100"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},r.a.createElement("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})))),r.a.createElement(I.a,{className:"mt--8 pb-5"},r.a.createElement(F.a,{className:"justify-content-center"},r.a.createElement(H.a,{lg:"5",md:"7"},r.a.createElement(_.a,{className:"bg-secondary shadow border-0"},r.a.createElement(B.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"d-flex justify-content-center mb-4"},r.a.createElement("img",{src:R.a,style:{height:100},alt:"Logo"})),e?this.showLoader():this.showForm()))))))}}]),t}(r.a.Component),re=Object(b.b)(function(e){return{}},function(e){return{signinUser:function(t){return e(function(e){var t=e.body,a=void 0===t?{}:t,n=e.onSuccess,r=e.onError,o=e.onEnd;return function(){var e=Object(ee.a)($.a.mark(function e(t,s){var c,i,l,m;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post({url:"/auth/signin",body:a});case 3:if(c=e.sent,i=c.data,l=i.user,m=i.token,"ADMIN"===l.role){e.next=7;break}return e.abrupt("return",Object(te.a)("You are restricted in this area"));case 7:g.a.setCommonHeaders("x-auth-token",m),t(k(m)),t(j(l)),p.a.store("adminAuthToken",m),p.a.store("adminUser",l),n&&n(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r?r(e.t0):Object(te.a)(e.t0);case 18:return e.prev=18,o&&o(),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[0,15,18,21]])}));return function(t,a){return e.apply(this,arguments)}}()}(t))}}})(ne),oe=a(362),se=a(361),ce=a(363),ie=a(375),le=a(364),me=a(365),ue=a(366),de=a(367),pe=function(e){function t(){return Object(P.a)(this,t),Object(T.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user,a=t.name,n=t.image;return r.a.createElement(se.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},r.a.createElement(I.a,{fluid:!0},r.a.createElement(oe.a,{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",to:"/"},this.props.brandText),r.a.createElement(ce.a,{className:"align-items-center d-none d-md-flex",navbar:!0},r.a.createElement(ie.a,{nav:!0},r.a.createElement(le.a,{className:"pr-0",nav:!0},r.a.createElement(me.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:n&&n.thumbnailUrl})),r.a.createElement(me.a,{className:"ml-2 d-none d-lg-block"},r.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},a)))),r.a.createElement(ue.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(de.a,{divider:!0}),r.a.createElement(de.a,{href:"#pablo",onClick:function(t){e.props.signoutUser()}},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout")))))))}}]),t}(r.a.Component),ge=Object(b.b)(function(e){return{user:e.auth.user}},function(e){return{signoutUser:function(){return e(ae())}}})(pe),be=a(368),fe=a(369),he=a(370),ve=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(T.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(o)))).state={collapseOpen:!1,navItems:[{icon:"ni ni-single-02 text-danger",name:"Goal Categories",link:"/goal_categories"},{icon:"ni ni-single-02 text-danger",name:"Qoute Categories",link:"/qoute_categories"},{icon:"ni ni-single-02 text-danger",name:"Qoutations",link:"/qoutations"},{icon:"ni ni-single-02 text-danger",name:"Ethnicities",link:"/ethnicities"},{icon:"ni ni-single-02 text-danger",name:"Posts",link:"/posts"}]},a.activeRoute=function(e){return a.props.location.pathname.indexOf(S.b+e)>-1?"active":""},a.toggleCollapse=function(){a.setState({collapseOpen:!a.state.collapseOpen})},a.closeCollapse=function(){a.setState({collapseOpen:!1})},a.createNavItem=function(){return a.state.navItems.map(function(e,t){if("heading"===e.type)return r.a.createElement("h4",{className:"ml-4",key:e.heading},e.heading);var n=a.activeRoute(e.link);return r.a.createElement(be.a,{key:t},r.a.createElement(oe.a,{to:S.b+e.link,className:"nav-link "+n},r.a.createElement("i",{className:e.icon}),e.name))})},a}return Object(z.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props.logo,n=this.props.user;return r.a.createElement(se.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},r.a.createElement(I.a,{fluid:!0},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(fe.a,{className:"pt-0"},r.a.createElement("img",{className:"navbar-brand-img",src:a(68)})),r.a.createElement(ce.a,{className:"align-items-center d-md-none"},r.a.createElement(ie.a,{nav:!0},r.a.createElement(le.a,{nav:!0},r.a.createElement(me.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:n.image&&n.image.thumbnailUrl})))),r.a.createElement(ue.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(de.a,{href:"#",onClick:function(t){t.preventDefault(),e.props.signoutUser()}},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))),r.a.createElement(he.a,{navbar:!0,isOpen:this.state.collapseOpen},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(F.a,null,t?r.a.createElement(H.a,{className:"collapse-brand",xs:"6"},t.innerLink?r.a.createElement(oe.a,{to:t.innerLink},r.a.createElement("img",{src:a(68)})):r.a.createElement("a",{href:t.outterLink},r.a.createElement("img",{src:a(68)}))):null,r.a.createElement(H.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(ce.a,{navbar:!0},this.createNavItem()))))}}]),t}(r.a.Component),Ee=Object(b.b)(function(e){return{user:e.auth.user}},function(e){return{signoutUser:function(){return e(ae())}}})(ve),ye=(Object(n.lazy)(function(){return a.e(16).then(a.bind(null,461))}),Object(n.lazy)(function(){return Promise.all([a.e(0),a.e(14)]).then(a.bind(null,462))})),Oe=Object(n.lazy)(function(){return Promise.all([a.e(4),a.e(12)]).then(a.bind(null,468))}),je=Object(n.lazy)(function(){return Promise.all([a.e(0),a.e(15)]).then(a.bind(null,463))}),ke=Object(n.lazy)(function(){return a.e(7).then(a.bind(null,469))}),Ne=Object(n.lazy)(function(){return Promise.all([a.e(0),a.e(10)]).then(a.bind(null,464))}),we=Object(n.lazy)(function(){return a.e(6).then(a.bind(null,470))}),xe=Object(n.lazy)(function(){return Promise.all([a.e(0),a.e(13)]).then(a.bind(null,465))}),Ce=Object(n.lazy)(function(){return a.e(8).then(a.bind(null,471))}),Se=Object(n.lazy)(function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,466))}),Ae=[{path:"/goal_categories/:identifier",component:Oe},{path:"/goal_categories",component:ye},{path:"/qoute_categories/:identifier",component:ke},{path:"/qoute_categories",component:je},{path:"/qoutations/:identifier",component:we},{path:"/qoutations",component:Ne},{path:"/ethnicities/:identifier",component:Ce},{path:"/ethnicities",component:xe},{path:"/posts/:identifier",component:Object(n.lazy)(function(){return Promise.all([a.e(5),a.e(11)]).then(a.bind(null,467))})},{path:"/posts",component:Se}],Pe=function(e){function t(){return Object(P.a)(this,t),Object(T.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,Object.assign({},this.props,{logo:{innerLink:"/admin/index",imgSrc:"",imgAlt:"..."}})),r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(ge,Object.assign({},this.props,{brandText:"Believe It"})),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement(i.a,null,Ae.map(function(e){var t=e.path,a=e.component;e.exact;return r.a.createElement(l.a,{path:S.b+t,key:t,exact:!0,component:a})}))),r.a.createElement(I.a,{fluid:!0},r.a.createElement("footer",{className:"footer"}))))}}]),t}(r.a.Component),Ue=Object(u.a)(),Te=function(e){return Object(n.useEffect)(function(){var e=p.a.get("adminAuthToken");g.a.setCommonHeaders("x-auth-token",e)},[]),r.a.createElement(b.a,{store:x},r.a.createElement(d.ToastContainer,{hideProgressBar:!0,closeButton:!1}),r.a.createElement(c.a,{history:Ue,basename:S.b},r.a.createElement(i.a,null,r.a.createElement(l.a,{path:"".concat(S.b,"/signin"),exact:!0,component:function(e){return r.a.createElement(re,e)}}),r.a.createElement(A,{path:"".concat(S.b),component:Pe}),r.a.createElement(m.a,{to:"".concat(S.b,"/users")}))))};s.a.render(r.a.createElement(Te,null),document.getElementById("root"))},38:function(e,t,a){"use strict";var n=a(71),r=a(61),o=a.n(r),s=a(10);t.a={get:function(e){var t=e.url,a=void 0===t?"":t,r=e.headers,c=void 0===r?{}:r,i=e.queryParams,l=void 0===i?{}:i,m=e.otherConfigs,u=void 0===m?{}:m;return o.a.get(s.a+a,Object(n.a)({headers:c,params:l},u))},post:function(e){var t=e.url,a=void 0===t?"":t,r=e.body,c=void 0===r?{}:r,i=e.headers,l=void 0===i?{}:i,m=e.queryParams,u=void 0===m?{}:m,d=e.otherConfigs,p=void 0===d?{}:d;return o.a.post(s.a+a,c,Object(n.a)({headers:l,params:u},p))},put:function(e){var t=e.url,a=void 0===t?"":t,r=e.body,c=void 0===r?{}:r,i=e.headers,l=void 0===i?{}:i,m=e.queryParams,u=void 0===m?{}:m,d=e.otherConfigs,p=void 0===d?{}:d;return o.a.put(s.a+a,c,Object(n.a)({headers:l,params:u},p))},delete:function(e){var t=e.url,a=void 0===t?"":t,r=e.headers,c=void 0===r?{}:r,i=e.queryParams,l=void 0===i?{}:i,m=e.otherConfigs,u=void 0===m?{}:m;return o.a.delete(s.a+a,Object(n.a)({headers:c,params:l},u))},setCommonHeaders:function(e,t){o.a.defaults.headers.common[e]=t}}},48:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(31),s=function(e){var t=e.title,a=e.image,n=e.time,o=e.message,s=e.closeToast;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"toast-header"},a&&r.a.createElement("img",{src:a,className:"rounded mr-2",alt:"image"}),t&&r.a.createElement("strong",{className:"mr-auto"},t),n&&r.a.createElement("small",null,n),r.a.createElement("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:s},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"toast-body"},o))},c=a(16),i=a(10);a.d(t,"a",function(){return l});var l=function(e){var t=e.response&&e.response.status>=400&&e.response.status<=500;if("string"===typeof e)return o.toast.error(r.a.createElement(s,{title:"Error",message:e}));t?400===e.response.status?o.toast.error(r.a.createElement(s,{title:"Error",message:e.response.data.message})):401===e.response.status?(o.toast.warn(r.a.createElement(s,{title:"Warning",message:e.response.data.message})),c.a.remove("xAuthToken"),c.a.remove("user"),window.location.href=i.b+"/signin"):403===e.response.status?(o.toast.warn(r.a.createElement(s,{title:"Warning",message:e.response.data.message})),c.a.remove("xAuthToken"),c.a.remove("user"),window.location.href=i.b+"/signin"):500===e.response.status?o.toast.error(r.a.createElement(s,{title:"Error",message:e.response.data.message})):o.toast.error(r.a.createElement(s,{title:"Error",message:"Something went wrong."})):o.toast.error(r.a.createElement(s,{title:"Error",message:"An unexpected error occurrred."}))}},68:function(e,t,a){e.exports=a.p+"static/media/logo.270a97f7.png"}},[[199,2,3]]]);
//# sourceMappingURL=main.83ed7860.chunk.js.map
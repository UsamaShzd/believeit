(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{382:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(361);a.a=function(e){return r.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},r.a.createElement(c.a,{fluid:!0},e.children))}},383:function(e,a,t){"use strict";var n=t(75),r=t(0),c=t.n(r),l=t(357),s=t(389),o=t(360),i=t(74);a.a=function(e){var a=e.name,t=e.label,r=Object(n.a)(e,["name","label"]),u=Object(i.c)(),m=u.values,d=u.errors,f=u.touched,p=u.setFieldValue,b=m[a],v=f[a]&&d[a],g=" form-control form-control-alternative text-black";return v&&(g+=" border border-danger"),c.a.createElement(l.a,null,t&&c.a.createElement(s.a,{className:"form-control-label"},t),c.a.createElement(o.a,Object.assign({},r,{className:g,autoComplete:"off",value:b,onChange:function(e){p(a,e.target.value)}})),v&&c.a.createElement("div",{className:"alert alert-danger"},v))}},385:function(e,a,t){"use strict";var n=t(25),r=t(75),c=t(0),l=t.n(c),s=t(357),o=t(389),i=t(360),u=t(74);a.a=function(e){var a=e.name,t=e.label,c=e.className,m=e.options,d=void 0===m?[]:m,f=e.placeholder,p=Object(r.a)(e,["name","label","className","options","placeholder"]),b=Object(u.c)(),v=b.values,g=b.errors,h=b.touched,E=b.setFieldValue,x=v[a],N=h[a]&&g[a],k=c+" form-control form-control-alternative text-black";return N&&(k+=" border border-danger"),f&&(d=[{label:f||"",value:""}].concat(Object(n.a)(d))),l.a.createElement(s.a,null,t&&l.a.createElement(o.a,{className:"form-control-label"},t),l.a.createElement(i.a,Object.assign({},p,{type:"select",className:k,style:{color:"black"},value:x,onChange:function(e){console.log(e.target.value),E(a,e.target.value)}}),d.map(function(e,a){return l.a.createElement("option",{key:a,value:e.value},e.label)})),N&&l.a.createElement("div",{className:"alert alert-danger"},N))}},391:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=function(e){var a=e.checked,t=e.onChange,n=e.disabled,c=void 0!==n&&n;return r.a.createElement("label",{className:"custom-toggle"},r.a.createElement("input",{type:"checkbox",checked:a,disabled:c,onChange:function(e){t(e.target.checked)}}),r.a.createElement("span",{className:"custom-toggle-slider rounded-circle"}))}},398:function(e,a,t){"use strict";var n=t(75),r=t(0),c=t.n(r),l=t(357),s=t(389),o=t(391),i=t(74);a.a=function(e){var a=e.name,t=e.label,r=Object(n.a)(e,["name","label"]),u=Object(i.c)(),m=u.values,d=u.errors,f=u.touched,p=u.setFieldValue,b=m[a],v=f[a]&&d[a],g=" form-control form-control-alternative text-black";return v&&(g+=" border border-danger"),c.a.createElement(l.a,null,t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{className:"form-control-label"},t),c.a.createElement("br",null)),c.a.createElement(o.a,Object.assign({},r,{className:g,checked:b,onChange:function(e){p(a,e)}})),v&&c.a.createElement("div",{className:"alert alert-danger"},v))}},399:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(422),l=t(413),s=t.n(l),o=Object(c.a)(function(e){var a=e.children;return r.a.createElement(r.a.Fragment,null,a)}),i=Object(c.b)(function(e){var a=e.children;return r.a.createElement(r.a.Fragment,null,a)});a.a=function(e){var a=e.data,t=void 0===a?[]:a,n=e.renderItem,c=e.keyExtractor,l=void 0===c?function(){return""}:c,u=e.onListSort,m=void 0===u?function(){}:u,d=e.axis,f=void 0===d?"y":d,p=e.className,b=void 0===p?"":p,v=e.style,g=void 0===v?{}:v;return r.a.createElement(o,{distance:20,onSortStart:function(e){e.node},axis:f,helperClass:"border border-primary",onSortEnd:function(e){var a=function(e){var a=e.oldIndex,n=e.newIndex;return s()(t,a,n)}(e);m(a)}},r.a.createElement("div",{className:b,style:g},t.map(function(e,a){return r.a.createElement(i,{key:l(e,a),index:a},n(e,a))})))}},480:function(e,a,t){"use strict";t.r(a);var n=t(34),r=t.n(n),c=t(64),l=t(63),s=t(0),o=t.n(s),i=t(187),u=t(481),m=t(482),d=t(361),f=t(364),p=t(386),b=t(365),v=t(382),g=t(383),h=t(385),E=t(398),x=t(391),N=t(367),k=t(399),w=t(74),_=t(77),j=t(10),O=t(49),y=t(38);a.default=function(e){var a=e.match,t=e.history,n=Object(s.useState)([]),S=Object(l.a)(n,2),C=S[0],F=S[1],A=Object(s.useState)({_id:"",title:"",goalCategory:"",isActive:!1}),I=Object(l.a)(A,2),z=I[0],V=I[1],D=Object(s.useState)([]),G=Object(l.a)(D,2),P=G[0],q=G[1],J=Object(s.useState)(!0),L=Object(l.a)(J,2),M=(L[0],L[1]),T=a.params.identifier;Object(s.useEffect)(function(){B(),R(),H()},[]);var R=function(){var e=Object(c.a)(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),e.next=4,y.a.get({url:"/goal_categories/"});case 4:a=e.sent,F(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)("Something went wrong!");case 11:return e.prev=11,M(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),e.next=4,y.a.get({url:"/pre_defined_goals/"+T});case 4:a=e.sent,V(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(O.a)("Something went wrong!");case 11:return e.prev=11,M(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get({url:"/pre_defined_milestones/goal_milestones/"+T});case 3:a=e.sent,q(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(O.a)("Something went wrong!");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(r.a.mark(function e(a,t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(P.map(function(e){return e._id===a&&(e.isActive=t),e})),e.next=4,y.a.put({url:"/pre_defined_milestones/change_status/"+a,body:{isActive:t}});case 4:e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(O.a)("Something went wrong!"),q(P.map(function(e){return e._id===a&&(e.isActive=!t),e}));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a,t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.put({url:"/pre_defined_milestones/rearrange/",body:{orderIds:a}});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(O.a)("Something went wrong!");case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(a){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(r.a.mark(function e(a){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure you want to delete "'.concat(a.title,'"?'))){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,y.a.delete({url:"/pre_defined_milestones/"+a._id});case 6:t=P.filter(function(e){return e._id!==a._id}),q(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),Object(O.a)("Failed to delete Milestone.");case 14:case"end":return e.stop()}},e,null,[[3,10]])}));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(r.a.mark(function e(a,t){var n,c,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setSubmitting,c=t.setErrors,e.prev=1,e.next=4,y.a.put({url:"/pre_defined_goals/"+z._id,body:a});case 4:l=e.sent,V(l.data),e.next=18;break;case 8:e.prev=8,e.t0=e.catch(1),e.t1=e.t0.response.status,e.next=400===e.t1?13:404===e.t1?15:17;break;case 13:return c(e.t0.response.data.error),e.abrupt("break",18);case 15:return Object(O.a)("Goal is already deleted"),e.abrupt("break",18);case 17:Object(O.a)("Something went wrong!");case 18:return e.prev=18,n(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[1,8,18,21]])}));return function(a,t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,null),o.a.createElement(d.a,{className:"mt--7"},o.a.createElement(f.a,{className:"shadow"},o.a.createElement(p.a,null,o.a.createElement("div",{className:"clearfix"},o.a.createElement("h2",{className:"mb-0 float-left"},"Edit Pre Defined Goal"))),o.a.createElement(b.a,{className:"bg-secondary"},o.a.createElement(w.b,{initialValues:z,validationSchema:_.d().shape({title:_.e().trim().min(3).max(100).required(),goalCategory:_.e().trim().min(24).max(24).required()}),enableReinitialize:!0,onSubmit:W},function(e){var a=e.isSubmitting,t=e.submitForm;return o.a.createElement(w.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement(g.a,{name:"title",placeholder:"Title",label:"Title"})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(h.a,{label:"Goal Category",name:"goalCategory",placeholder:"Choose a Category",options:C.map(function(e){return{label:e.name,value:e._id}})})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(E.a,{name:"isActive",label:"Status"})),o.a.createElement("div",{className:"col-12 text-center"},o.a.createElement(i.a,{color:"primary",disabled:a,type:"submit",onClick:t},"Save"))))}),o.a.createElement("div",{className:"clearfix mt-3"},o.a.createElement("h1",{className:"float-left"},"Milestones"),o.a.createElement(N.a,{className:"btn btn-success btn-sm float-right mt-2",size:"sm",to:j.b+"/pre_defined_milestones/".concat(z._id,"/add")},o.a.createElement("i",{className:"fa fa-pencil-alt"})," Add")),0===P.length?o.a.createElement("div",{className:"text-center m-3"},o.a.createElement("p",{className:"text-ligth"},"No milestones available")):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null,o.a.createElement(k.a,{data:P,keyExtractor:function(e){return e._id},onListSort:function(e){q(e),Q(e.map(function(e){return e._id}))},renderItem:function(e,a){return o.a.createElement(m.a,{className:"rounded mb-1"},o.a.createElement("div",{className:"clearfix"},o.a.createElement(N.a,{to:j.b+"/pre_defined_sub_milestones/"+e._id},o.a.createElement("span",{className:"text-dark"},e.title)),o.a.createElement(i.a,{color:"danger",size:"sm",className:"float-right",onClick:function(a){a.preventDefault(),a.stopPropagation(),U(e)}},o.a.createElement("i",{className:"fas fa-trash"})),o.a.createElement(i.a,{color:"primary",size:"sm",className:"float-right mr-1",onClick:function(a){a.preventDefault(),a.stopPropagation(),t.push(j.b+"/pre_defined_milestones/".concat(z._id,"/").concat(e._id))}},o.a.createElement("i",{className:"fas fa-pencil-alt"})),o.a.createElement("div",{className:"float-right mt-1"},o.a.createElement(x.a,{checked:e.isActive,onChange:function(a){K(e._id,a)}}))))}})))))))}}}]);
//# sourceMappingURL=8.53432e5b.chunk.js.map
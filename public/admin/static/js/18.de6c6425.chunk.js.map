{"version":3,"sources":["components/Headers/Header.js","components/Inputs/Input.js","components/Inputs/SearchSelect.js","pages/pre_defined_milestones/ModifyPreDefinedMilestone.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","props","a","createElement","className","fluid","children","MyInput","_ref","name","label","rest","Object","_Users_usamashehzad_Desktop_Projects_believeit_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_useFormikContext","useFormikContext","values","errors","touched","setFieldValue","value","error","classes","react__WEBPACK_IMPORTED_MODULE_1___default","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","assign","autoComplete","onChange","e","target","SearchSelect","react_default","react_select_browser_esm","style","color","api_endpoint","ModifyPreDefinedMilestone","match","history","_match$params","params","identifier","preDefinedGoal","_useState","useState","title","frequency","repeatingDays","_useState2","slicedToArray","milestone","setMilestone","useEffect","_id","loadMilestone","_ref2","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","http","get","url","sent","data","t0","t1","response","status","handleErrors","abrupt","stop","apply","this","arguments","submitHandler","_ref4","_callee2","body","_ref3","setSubmitting","setErrors","_res","_context2","post","replace","basePath","put","finish","_x","_x2","Fragment","Header","Container","Card","CardHeader","CardBody","weekDays","formik_esm","initialValues","validationSchema","Yup","shape","trim","min","max","required","of","enableReinitialize","onSubmit","_ref5","isSubmitting","submitForm","repeatingDaysValue","filter","weekDay","includes","Input","placeholder","type","isMulti","options","length","undefined","console","log","map","v","Button","disabled","onClick","renderForm"],"mappings":"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","file":"static/js/18.de6c6425.chunk.js","sourcesContent":["import React from \"react\";\nimport { Container } from \"reactstrap\";\n\nexport default (props) => {\n  return (\n    <div className=\"header bg-gradient-info pb-8 pt-5 pt-md-8\">\n      <Container fluid>{props.children}</Container>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { FormGroup, Input, Label } from \"reactstrap\";\n\nimport { useFormikContext } from \"formik\";\n\nconst MyInput = ({ name, label, ...rest }) => {\n  const { values, errors, touched, setFieldValue } = useFormikContext();\n  const value = values[name];\n  const error = touched[name] && errors[name];\n  let classes = \" form-control form-control-alternative text-black\";\n  if (error) {\n    classes = classes + \" border border-danger\";\n  }\n  return (\n    <FormGroup>\n      {label && <Label className=\"form-control-label\">{label}</Label>}\n      <Input\n        {...rest}\n        className={classes}\n        autoComplete=\"off\"\n        value={value}\n        onChange={(e) => {\n          setFieldValue(name, e.target.value);\n        }}\n      />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </FormGroup>\n  );\n};\n\nexport default MyInput;\n","import React from \"react\";\nimport Select from \"react-select\";\n\nexport default (props) => {\n  const { error, label, value } = props;\n  let classes = \"my-select\";\n  if (error) {\n    classes = classes + \" my-input-error\";\n  }\n\n  return (\n    <div className=\"form-group\">\n      {label && <label>{label}</label>}\n      <Select\n        // styles={customStyles}\n        {...props}\n        className={classes}\n      />\n      {error && (\n        <p className=\"my-input-error-text\" style={{ color: \"red\" }}>\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};\n\nconst customStyles = {\n  control: (provided) => ({\n    ...provided,\n    border: \"none\",\n    outline: \"none\",\n    boxShadow: \"none\",\n  }),\n};\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Card,\n  CardHeader,\n  CardBody,\n  ButtonGroup,\n  Label,\n  Button,\n} from \"reactstrap\";\nimport Header from \"../../components/Headers/Header\";\n\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport Input from \"../../components/Inputs/Input\";\nimport SearchSelect from \"../../components/Inputs/SearchSelect\";\n\nimport { basePath } from \"../../configs\";\n\nimport { handleErrors } from \"../../helpers/error\";\n\nimport http from \"../../services/http\";\nconst api_endpoint = \"/pre_defined_milestones/\";\n\nconst ModifyPreDefinedMilestone = ({ match, history }) => {\n  const { identifier, preDefinedGoal } = match.params;\n\n  const [milestone, setMilestone] = useState({\n    title: \"\",\n    preDefinedGoal,\n    frequency: 1,\n    repeatingDays: [],\n  });\n\n  useEffect(() => {\n    if (identifier !== \"add\" && identifier !== milestone._id) loadMilestone();\n  }, [identifier]);\n\n  const loadMilestone = async () => {\n    try {\n      const res = await http.get({ url: api_endpoint + identifier });\n      setMilestone(res.data);\n    } catch (err) {\n      switch (err.response.status) {\n        case 404:\n          handleErrors(\"Pre Defined Milestone not found!\");\n          //   history.replace(basePath + \"/goal_categories/\");\n          break;\n        default:\n          handleErrors(\"Something went wrong!\");\n      }\n    }\n  };\n\n  const submitHandler = async (body, { setSubmitting, setErrors }) => {\n    try {\n      if (identifier === \"add\") {\n        const res = await http.post({ url: api_endpoint, body });\n        setMilestone(res.data);\n        history.replace(\n          basePath +\n            \"/pre_defined_milestones/\" +\n            res.data.preDefinedGoal +\n            \"/\" +\n            res.data._id\n        );\n      } else {\n        const res = await http.put({\n          url: api_endpoint + identifier,\n          body,\n        });\n        setMilestone(res.data);\n      }\n    } catch (err) {\n      switch (err.response.status) {\n        case 400:\n          setErrors(err.response.data.error);\n          break;\n        case 404:\n          handleErrors(\"This category is deleted\");\n          break;\n        default:\n          handleErrors(\"Something went wrong!\");\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const renderForm = () => {\n    const weekDays = [\n      { value: \"monday\", label: \"Monday\" },\n      { value: \"tuesday\", label: \"Tuesday\" },\n      { value: \"wednesday\", label: \"Wednesday\" },\n      { value: \"thursday\", label: \"Thursday\" },\n      { value: \"friday\", label: \"Friday\" },\n      { value: \"saturday\", label: \"Saturday\" },\n      { value: \"sunday\", label: \"Sunday\" },\n    ];\n    return (\n      <Formik\n        initialValues={milestone}\n        validationSchema={Yup.object().shape({\n          title: Yup.string().trim().min(3).max(100).required(),\n          preDefinedGoal: Yup.string().trim().min(24).max(24).required(),\n          frequency: Yup.number().min(1).required(),\n          repeatingDays: Yup.array().of(Yup.string().required()).required(),\n        })}\n        enableReinitialize\n        onSubmit={submitHandler}\n      >\n        {({\n          isSubmitting,\n          submitForm,\n          setFieldValue,\n          values,\n          touched,\n          errors,\n        }) => {\n          const repeatingDaysValue = weekDays.filter((weekDay) => {\n            return values[\"repeatingDays\"].includes(weekDay.value);\n          });\n\n          return (\n            <Form>\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  <Input name=\"title\" placeholder=\"Title\" label=\"Title\" />\n                </div>\n\n                <div className=\"col-md-6\">\n                  <Input\n                    name=\"frequency\"\n                    placeholder=\"Frequency\"\n                    label=\"Frequency\"\n                    type=\"number\"\n                    min={1}\n                  />\n                </div>\n\n                <div className=\"col-md-6\">\n                  <SearchSelect\n                    label=\"Repeating Days\"\n                    isMulti\n                    options={weekDays}\n                    value={repeatingDaysValue}\n                    onChange={(values = []) => {\n                      if (values === null) values = [];\n                      console.log(\"change\", values);\n                      setFieldValue(\n                        \"repeatingDays\",\n                        values.map((v) => v.value)\n                      );\n                    }}\n                    error={touched[\"repeatingDays\"] && errors[\"repeatingDays\"]}\n                  />\n                </div>\n                <div className=\"col-12 text-center\">\n                  <Button\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    type=\"submit\"\n                    onClick={submitForm}\n                  >\n                    Save\n                  </Button>\n                </div>\n              </div>\n            </Form>\n          );\n        }}\n      </Formik>\n    );\n  };\n  return (\n    <>\n      <Header />\n      <Container className=\"mt--7\">\n        <Card className=\"shadow\">\n          <CardHeader>\n            <div className=\"clearfix\">\n              <h2 className=\"mb-0 float-left\">\n                {identifier === \"add\"\n                  ? \"Add Pre Defined Milestone\"\n                  : milestone.title}\n              </h2>\n            </div>\n          </CardHeader>\n          <CardBody className=\"bg-secondary\">{renderForm()}</CardBody>\n        </Card>\n      </Container>\n    </>\n  );\n};\n\nexport default ModifyPreDefinedMilestone;\n"],"sourceRoot":""}
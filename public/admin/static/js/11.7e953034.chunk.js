(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{377:function(e,a,t){"use strict";var r=t(0),n=t.n(r),l=t(356);a.a=function(e){return n.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},n.a.createElement(l.a,{fluid:!0},e.children))}},379:function(e,a,t){"use strict";var r=t(74),n=t(0),l=t.n(n),c=t(352),o=t(386),s=t(355),i=t(73);a.a=function(e){var a=e.name,t=e.label,n=Object(r.a)(e,["name","label"]),u=Object(i.c)(),m=u.values,d=u.errors,b=u.touched,p=u.setFieldValue,v=m[a],f=b[a]&&d[a],E=" form-control form-control-alternative text-black";return f&&(E+=" border border-danger"),l.a.createElement(c.a,null,t&&l.a.createElement(o.a,{className:"form-control-label"},t),l.a.createElement(s.a,Object.assign({},n,{className:E,autoComplete:"off",value:v,onChange:function(e){p(a,e.target.value)}})),f&&l.a.createElement("div",{className:"alert alert-danger"},f))}},383:function(e,a,t){"use strict";var r=t(25),n=t(74),l=t(0),c=t.n(l),o=t(352),s=t(386),i=t(355),u=t(73);a.a=function(e){var a=e.name,t=e.label,l=e.className,m=e.options,d=void 0===m?[]:m,b=e.placeholder,p=Object(n.a)(e,["name","label","className","options","placeholder"]),v=Object(u.c)(),f=v.values,E=v.errors,h=v.touched,g=v.setFieldValue,y=f[a],N=h[a]&&E[a],w=l+" form-control form-control-alternative text-black";return N&&(w+=" border border-danger"),b&&(d=[{label:b||"",value:""}].concat(Object(r.a)(d))),c.a.createElement(o.a,null,t&&c.a.createElement(s.a,{className:"form-control-label"},t),c.a.createElement(i.a,Object.assign({},p,{type:"select",className:w,style:{color:"black"},value:y,onChange:function(e){console.log(e.target.value),g(a,e.target.value)}}),d.map(function(e,a){return c.a.createElement("option",{key:a,value:e.value},e.label)})),N&&c.a.createElement("div",{className:"alert alert-danger"},N))}},467:function(e,a,t){"use strict";t.r(a);var r=t(34),n=t.n(r),l=t(63),c=t(62),o=t(0),s=t.n(o),i=t(356),u=t(359),m=t(381),d=t(360),b=t(377),p=t(10),v=t(48),f=t(38),E=t(73),h=t(77),g=t(182),y=t(379),N=t(383),w=t(74),j=t(352),O=t(386),k=t(444),x=t(448),C=t.n(x),V={mediaEmbed:{previewsInData:!0}},S=function(e){var a=e.label,t=e.name,r=e.className,n=void 0===r?"":r,l=Object(w.a)(e,["label","name","className"]),c=Object(E.c)(),o=c.values,i=c.errors,u=c.touched,m=c.setFieldValue,d=o[t],b=u[t]&&i[t],p=n+"";return b&&(p+=" border border-danger"),s.a.createElement(j.a,null,a&&s.a.createElement(O.a,{className:"form-control-label"},a),s.a.createElement("div",{className:p},s.a.createElement(k.CKEditor,Object.assign({editor:C.a,config:V,activeClass:"border border-primary",data:d},l,{onChange:function(e,a){m(t,a.getData())}}))),b&&s.a.createElement("div",{className:"alert alert-danger"},b))},_=function(e){var a=e.initialValues,t=e.onSubmit;return s.a.createElement(E.b,{initialValues:a,validationSchema:h.b().shape({title:h.c().trim().min(5).max(150).required(),type:h.c().trim().required(),youtubeVideo:h.c().when("type",{is:"youtube_video",then:h.c().required()}),htmlContent:h.c().when("type",{is:"blog",then:h.c().required()})}),onSubmit:t,enableReinitialize:!0},function(e){var a=e.values,t=e.isSubmitting,r=e.submitForm,n=a.type;return s.a.createElement(E.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement(y.a,{label:"Post Title",name:"title",placeholder:"Post Title..."})),s.a.createElement("div",{className:"col-12"},s.a.createElement(N.a,{name:"type",label:"Post Type",options:[{label:"Youtube Video",value:"youtube_video"},{label:"Blog",value:"blog"}]})),"youtube_video"===n&&s.a.createElement("div",{className:"col-12"},s.a.createElement(y.a,{label:"Youtube Video Id",name:"youtubeVideo",placeholder:"youtube video id"})),"blog"===n&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-12"}),s.a.createElement("div",{className:"col-12"},s.a.createElement(y.a,{label:"Description",name:"description",placeholder:"description..."})),s.a.createElement("div",{className:"col-12"}),s.a.createElement("div",{className:"col-12"},s.a.createElement(S,{label:"Content",name:"htmlContent",className:"w-100"}))),s.a.createElement("div",{className:"col-12 text-center"},s.a.createElement(g.a,{color:"primary",disabled:t,type:"submit",onClick:r},"Save"))))})};a.default=function(e){var a=e.match,t=e.history,r=Object(o.useState)({title:"",type:"youtube_video",youtubeVideo:"",image:"",description:"",htmlContent:"",_id:""}),E=Object(c.a)(r,2),h=E[0],g=E[1],y=a.params.identifier;Object(o.useEffect)(function(){"add"!==y&&y!==h._id&&N(y)},[y]);var N=function(){var e=Object(l.a)(n.a.mark(function e(a){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get({url:"/posts/"+y});case 3:r=e.sent,g(r.data),e.next=16;break;case 7:e.prev=7,e.t0=e.catch(0),e.t1=e.t0.response.status,e.next=404===e.t1?12:15;break;case 12:return Object(v.a)("Post not found!"),t.replace(p.b+"/posts/"),e.abrupt("break",16);case 15:Object(v.a)("Something went wrong!");case 16:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(n.a.mark(function e(a,r){var l,c,o,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.setSubmitting,c=r.setErrors,e.prev=1,"add"!==y){e.next=10;break}return e.next=5,f.a.post({url:"/posts/",body:a});case 5:o=e.sent,g(o.data),t.replace(p.b+"/posts/"+o.data._id),e.next=14;break;case 10:return e.next=12,f.a.put({url:"/posts/"+y,body:a});case 12:s=e.sent,g(s.data);case 14:e.next=26;break;case 16:e.prev=16,e.t0=e.catch(1),e.t1=e.t0.response.status,e.next=400===e.t1?21:404===e.t1?23:25;break;case 21:return c(e.t0.response.data.error),e.abrupt("break",26);case 23:return Object(v.a)("This post is deleted"),e.abrupt("break",26);case 25:Object(v.a)("Something went wrong!");case 26:return e.prev=26,l(!1),e.finish(26);case 29:case"end":return e.stop()}},e,null,[[1,16,26,29]])}));return function(a,t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,null),s.a.createElement(i.a,{className:"mt--7"},s.a.createElement(u.a,{className:"shadow"},s.a.createElement(m.a,null,s.a.createElement("div",{className:"clearfix"},s.a.createElement("h2",{className:"mb-0 float-left"},"add"===y?"Add Post":h.title))),s.a.createElement(d.a,{className:"bg-secondary"},s.a.createElement(_,{onSubmit:w,initialValues:{title:h.title,type:h.type,htmlContent:h.htmlContent,youtubeVideo:h.youtubeVideo}})))))}}}]);
//# sourceMappingURL=11.7e953034.chunk.js.map
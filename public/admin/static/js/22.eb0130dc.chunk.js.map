{"version":3,"sources":["components/Headers/Header.js","components/Inputs/Input.js","components/Inputs/SearchSelect.js","pages/pre_defined_milestones/ModifyPreDefinedMilestone.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","props","a","createElement","className","fluid","children","MyInput","_ref","name","label","rest","Object","_Users_usamashehzad_Desktop_Projects_believeit_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_useFormikContext","useFormikContext","values","errors","touched","setFieldValue","value","error","classes","react__WEBPACK_IMPORTED_MODULE_1___default","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","assign","autoComplete","onChange","e","target","react_select__WEBPACK_IMPORTED_MODULE_2__","style","color","api_endpoint","ModifyPreDefinedMilestone","match","history","_match$params","params","identifier","preDefinedGoal","_useState","useState","title","frequency","repeatingDays","timeOfDay","_useState2","_Users_usamashehzad_Desktop_Projects_believeit_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","milestone","setMilestone","useEffect","_id","loadMilestone","_ref2","_Users_usamashehzad_Desktop_Projects_believeit_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_usamashehzad_Desktop_Projects_believeit_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","res","wrap","_context","prev","next","http","get","url","sent","data","t0","t1","response","status","handleErrors","abrupt","stop","apply","this","arguments","submitHandler","_ref4","_callee2","body","_ref3","setSubmitting","setErrors","_res","_context2","post","replace","basePath","put","finish","_x","_x2","react__WEBPACK_IMPORTED_MODULE_3___default","Fragment","_components_Headers_Header__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","weekDays","timesOfDay","map","i","formik__WEBPACK_IMPORTED_MODULE_10__","initialValues","validationSchema","Yup","shape","trim","min","max","required","of","enableReinitialize","onSubmit","_ref5","isSubmitting","submitForm","repeatingDaysValue","filter","weekDay","includes","timesOfDayValue","time","_components_Inputs_Input__WEBPACK_IMPORTED_MODULE_12__","placeholder","type","_components_Inputs_SearchSelect__WEBPACK_IMPORTED_MODULE_13__","isMulti","options","length","undefined","console","log","v","disabled","onClick","renderForm"],"mappings":"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","file":"static/js/22.eb0130dc.chunk.js","sourcesContent":["import React from \"react\";\nimport { Container } from \"reactstrap\";\n\nexport default (props) => {\n  return (\n    <div className=\"header bg-gradient-info pb-8 pt-5 pt-md-8\">\n      <Container fluid>{props.children}</Container>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { FormGroup, Input, Label } from \"reactstrap\";\n\nimport { useFormikContext } from \"formik\";\n\nconst MyInput = ({ name, label, ...rest }) => {\n  const { values, errors, touched, setFieldValue } = useFormikContext();\n  const value = values[name];\n  const error = touched[name] && errors[name];\n  let classes = \" form-control form-control-alternative text-black\";\n  if (error) {\n    classes = classes + \" border border-danger\";\n  }\n  return (\n    <FormGroup>\n      {label && <Label className=\"form-control-label\">{label}</Label>}\n      <Input\n        {...rest}\n        className={classes}\n        autoComplete=\"off\"\n        value={value}\n        onChange={(e) => {\n          setFieldValue(name, e.target.value);\n        }}\n      />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </FormGroup>\n  );\n};\n\nexport default MyInput;\n","import React from \"react\";\nimport Select from \"react-select\";\n\nexport default (props) => {\n  const { error, label, value } = props;\n  let classes = \"my-select\";\n  if (error) {\n    classes = classes + \" my-input-error\";\n  }\n\n  return (\n    <div className=\"form-group\">\n      {label && <label>{label}</label>}\n      <Select\n        // styles={customStyles}\n        {...props}\n        className={classes}\n      />\n      {error && (\n        <p className=\"my-input-error-text\" style={{ color: \"red\" }}>\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};\n\nconst customStyles = {\n  control: (provided) => ({\n    ...provided,\n    border: \"none\",\n    outline: \"none\",\n    boxShadow: \"none\",\n  }),\n};\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Card,\n  CardHeader,\n  CardBody,\n  ButtonGroup,\n  Label,\n  Button,\n} from \"reactstrap\";\nimport Header from \"../../components/Headers/Header\";\n\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport Input from \"../../components/Inputs/Input\";\nimport SearchSelect from \"../../components/Inputs/SearchSelect\";\n\nimport { basePath } from \"../../configs\";\n\nimport { handleErrors } from \"../../helpers/error\";\n\nimport http from \"../../services/http\";\nconst api_endpoint = \"/pre_defined_milestones/\";\n\nconst ModifyPreDefinedMilestone = ({ match, history }) => {\n  const { identifier, preDefinedGoal } = match.params;\n\n  const [milestone, setMilestone] = useState({\n    title: \"\",\n    preDefinedGoal,\n    frequency: 1,\n    repeatingDays: [],\n    timeOfDay: [],\n  });\n\n  useEffect(() => {\n    if (identifier !== \"add\" && identifier !== milestone._id) loadMilestone();\n  }, [identifier]);\n\n  const loadMilestone = async () => {\n    try {\n      const res = await http.get({ url: api_endpoint + identifier });\n      setMilestone(res.data);\n    } catch (err) {\n      switch (err.response.status) {\n        case 404:\n          handleErrors(\"Pre Defined Milestone not found!\");\n          //   history.replace(basePath + \"/goal_categories/\");\n          break;\n        default:\n          handleErrors(\"Something went wrong!\");\n      }\n    }\n  };\n\n  const submitHandler = async (body, { setSubmitting, setErrors }) => {\n    try {\n      if (identifier === \"add\") {\n        const res = await http.post({ url: api_endpoint, body });\n        setMilestone(res.data);\n        history.replace(\n          basePath +\n            \"/pre_defined_milestones/\" +\n            res.data.preDefinedGoal +\n            \"/\" +\n            res.data._id\n        );\n      } else {\n        const res = await http.put({\n          url: api_endpoint + identifier,\n          body,\n        });\n        setMilestone(res.data);\n      }\n    } catch (err) {\n      switch (err.response.status) {\n        case 400:\n          setErrors(err.response.data.error);\n          break;\n        case 404:\n          handleErrors(\"This category is deleted\");\n          break;\n        default:\n          handleErrors(\"Something went wrong!\");\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const renderForm = () => {\n    const weekDays = [\n      { value: \"monday\", label: \"Monday\" },\n      { value: \"tuesday\", label: \"Tuesday\" },\n      { value: \"wednesday\", label: \"Wednesday\" },\n      { value: \"thursday\", label: \"Thursday\" },\n      { value: \"friday\", label: \"Friday\" },\n      { value: \"saturday\", label: \"Saturday\" },\n      { value: \"sunday\", label: \"Sunday\" },\n    ];\n\n    const timesOfDay = [\"In the morning\"].map((i) => ({ label: i, value: i }));\n\n    return (\n      <Formik\n        initialValues={milestone}\n        validationSchema={Yup.object().shape({\n          title: Yup.string().trim().min(3).max(100).required(),\n          preDefinedGoal: Yup.string().trim().min(24).max(24).required(),\n          frequency: Yup.number().min(1).required(),\n          repeatingDays: Yup.array().of(Yup.string().required()).required(),\n          timeOfDay: Yup.array().of(Yup.string().required()).required(),\n        })}\n        enableReinitialize\n        onSubmit={submitHandler}\n      >\n        {({\n          isSubmitting,\n          submitForm,\n          setFieldValue,\n          values,\n          touched,\n          errors,\n        }) => {\n          const repeatingDaysValue = weekDays.filter((weekDay) => {\n            return values[\"repeatingDays\"].includes(weekDay.value);\n          });\n\n          const timesOfDayValue = timesOfDay.filter((time) => {\n            return values[\"timeOfDay\"].includes(time.value);\n          });\n          return (\n            <Form>\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  <Input name=\"title\" placeholder=\"Title\" label=\"Title\" />\n                </div>\n\n                <div className=\"col-md-6\">\n                  <Input\n                    name=\"frequency\"\n                    placeholder=\"Frequency\"\n                    label=\"Frequency\"\n                    type=\"number\"\n                    min={1}\n                  />\n                </div>\n                <div className=\"col-md-6\">\n                  <SearchSelect\n                    label=\"Time of Day\"\n                    isMulti\n                    options={timesOfDay}\n                    value={timesOfDayValue}\n                    onChange={(values = []) => {\n                      if (values === null) values = [];\n                      console.log(\"change\", values);\n                      setFieldValue(\n                        \"timeOfDay\",\n                        values.map((v) => v.value)\n                      );\n                    }}\n                    error={touched[\"timeOfDay\"] && errors[\"timeOfDay\"]}\n                  />\n                </div>\n\n                <div className=\"col-md-6\">\n                  <SearchSelect\n                    label=\"Repeating Days\"\n                    isMulti\n                    options={weekDays}\n                    value={repeatingDaysValue}\n                    onChange={(values = []) => {\n                      if (values === null) values = [];\n                      console.log(\"change\", values);\n                      setFieldValue(\n                        \"repeatingDays\",\n                        values.map((v) => v.value)\n                      );\n                    }}\n                    error={touched[\"repeatingDays\"] && errors[\"repeatingDays\"]}\n                  />\n                </div>\n                <div className=\"col-12 text-center\">\n                  <Button\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    type=\"submit\"\n                    onClick={submitForm}\n                  >\n                    Save\n                  </Button>\n                </div>\n              </div>\n            </Form>\n          );\n        }}\n      </Formik>\n    );\n  };\n  return (\n    <>\n      <Header />\n      <Container className=\"mt--7\">\n        <Card className=\"shadow\">\n          <CardHeader>\n            <div className=\"clearfix\">\n              <h2 className=\"mb-0 float-left\">\n                {identifier === \"add\"\n                  ? \"Add Pre Defined Milestone\"\n                  : milestone.title}\n              </h2>\n            </div>\n          </CardHeader>\n          <CardBody className=\"bg-secondary\">{renderForm()}</CardBody>\n        </Card>\n      </Container>\n    </>\n  );\n};\n\nexport default ModifyPreDefinedMilestone;\n"],"sourceRoot":""}
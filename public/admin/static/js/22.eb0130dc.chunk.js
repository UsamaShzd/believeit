(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{382:function(e,a,t){"use strict";var r=t(0),n=t.n(r),l=t(361);a.a=function(e){return n.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},n.a.createElement(l.a,{fluid:!0},e.children))}},383:function(e,a,t){"use strict";var r=t(75),n=t(0),l=t.n(n),c=t(357),i=t(389),s=t(360),u=t(74);a.a=function(e){var a=e.name,t=e.label,n=Object(r.a)(e,["name","label"]),o=Object(u.c)(),m=o.values,d=o.errors,f=o.touched,b=o.setFieldValue,p=m[a],v=f[a]&&d[a],y=" form-control form-control-alternative text-black";return v&&(y+=" border border-danger"),l.a.createElement(c.a,null,t&&l.a.createElement(i.a,{className:"form-control-label"},t),l.a.createElement(s.a,Object.assign({},n,{className:y,autoComplete:"off",value:p,onChange:function(e){b(a,e.target.value)}})),v&&l.a.createElement("div",{className:"alert alert-danger"},v))}},408:function(e,a,t){"use strict";t(71);var r=t(0),n=t.n(r),l=t(423);a.a=function(e){var a=e.error,t=e.label,r=(e.value,"my-select");return a&&(r+=" my-input-error"),n.a.createElement("div",{className:"form-group"},t&&n.a.createElement("label",null,t),n.a.createElement(l.a,Object.assign({},e,{className:r})),a&&n.a.createElement("p",{className:"my-input-error-text",style:{color:"red"}},a))}},483:function(e,a,t){"use strict";t.r(a);var r=t(34),n=t.n(r),l=t(64),c=t(63),i=t(0),s=t.n(i),u=t(187),o=t(361),m=t(364),d=t(386),f=t(365),b=t(382),p=t(74),v=t(77),y=t(383),g=t(408),h=t(10),E=t(49),D=t(38),O="/pre_defined_milestones/";a.default=function(e){var a=e.match,t=e.history,r=a.params,N=r.identifier,w=r.preDefinedGoal,x=Object(i.useState)({title:"",preDefinedGoal:w,frequency:1,repeatingDays:[],timeOfDay:[]}),k=Object(c.a)(x,2),j=k[0],q=k[1];Object(i.useEffect)(function(){"add"!==N&&N!==j._id&&S()},[N]);var S=function(){var e=Object(l.a)(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get({url:O+N});case 3:a=e.sent,q(a.data),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),e.t1=e.t0.response.status,e.next=404===e.t1?12:14;break;case 12:return Object(E.a)("Pre Defined Milestone not found!"),e.abrupt("break",15);case 14:Object(E.a)("Something went wrong!");case 15:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(n.a.mark(function e(a,r){var l,c,i,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r.setSubmitting,c=r.setErrors,e.prev=1,"add"!==N){e.next=10;break}return e.next=5,D.a.post({url:O,body:a});case 5:i=e.sent,q(i.data),t.replace(h.b+"/pre_defined_milestones/"+i.data.preDefinedGoal+"/"+i.data._id),e.next=14;break;case 10:return e.next=12,D.a.put({url:O+N,body:a});case 12:s=e.sent,q(s.data);case 14:e.next=26;break;case 16:e.prev=16,e.t0=e.catch(1),e.t1=e.t0.response.status,e.next=400===e.t1?21:404===e.t1?23:25;break;case 21:return c(e.t0.response.data.error),e.abrupt("break",26);case 23:return Object(E.a)("This category is deleted"),e.abrupt("break",26);case 25:Object(E.a)("Something went wrong!");case 26:return e.prev=26,l(!1),e.finish(26);case 29:case"end":return e.stop()}},e,null,[[1,16,26,29]])}));return function(a,t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,null),s.a.createElement(o.a,{className:"mt--7"},s.a.createElement(m.a,{className:"shadow"},s.a.createElement(d.a,null,s.a.createElement("div",{className:"clearfix"},s.a.createElement("h2",{className:"mb-0 float-left"},"add"===N?"Add Pre Defined Milestone":j.title))),s.a.createElement(f.a,{className:"bg-secondary"},function(){var e=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],a=["In the morning"].map(function(e){return{label:e,value:e}});return s.a.createElement(p.b,{initialValues:j,validationSchema:v.d().shape({title:v.e().trim().min(3).max(100).required(),preDefinedGoal:v.e().trim().min(24).max(24).required(),frequency:v.c().min(1).required(),repeatingDays:v.a().of(v.e().required()).required(),timeOfDay:v.a().of(v.e().required()).required()}),enableReinitialize:!0,onSubmit:F},function(t){var r=t.isSubmitting,n=t.submitForm,l=t.setFieldValue,c=t.values,i=t.touched,o=t.errors,m=e.filter(function(e){return c.repeatingDays.includes(e.value)}),d=a.filter(function(e){return c.timeOfDay.includes(e.value)});return s.a.createElement(p.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement(y.a,{name:"title",placeholder:"Title",label:"Title"})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(y.a,{name:"frequency",placeholder:"Frequency",label:"Frequency",type:"number",min:1})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(g.a,{label:"Time of Day",isMulti:!0,options:a,value:d,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];null===e&&(e=[]),console.log("change",e),l("timeOfDay",e.map(function(e){return e.value}))},error:i.timeOfDay&&o.timeOfDay})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(g.a,{label:"Repeating Days",isMulti:!0,options:e,value:m,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];null===e&&(e=[]),console.log("change",e),l("repeatingDays",e.map(function(e){return e.value}))},error:i.repeatingDays&&o.repeatingDays})),s.a.createElement("div",{className:"col-12 text-center"},s.a.createElement(u.a,{color:"primary",disabled:r,type:"submit",onClick:n},"Save"))))})}()))))}}}]);
//# sourceMappingURL=22.eb0130dc.chunk.js.map